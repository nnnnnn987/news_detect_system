# 假新闻检测系统        <!-- by 韦玉雪 -->

## 概述
基于Gradio的多模态(文本+图片)假新闻检测Web界面(当前为模拟结果的演示版)

## 功能
- 交互式网页界面
- 模型/数据集选择
- 性能指标展示
- 预设测试案例
- 单条新闻检测

## 使用方法
1. 安装依赖: `pip install gradio`
2. 运行: `python script.py`
3. 访问生成的网页
4. 可选择:
   - 选择模型/数据集并输入文本+图片
   - 使用预设案例
5. 查看"检测"结果(当前为模拟)

## 技术说明
- 检测逻辑为占位实现(固定返回"real")
- 模型/数据集列表未完全实现
- 性能指标为硬编码数据            <!-- by 韦玉雪 -->








# 项目介绍：假新闻检测系统 <!-- by 刘巧来 -->

## 一、项目文件功能解释

### 1.1 `misc.xml`, `Modules.xml`, `News_detect_system.iml`, `Vcs.xml`
解释了以下四段代码的主要作用和功能，为后续代码运行做铺垫：
- **`misc.xml`**：通常包含项目的杂项配置，如构建过程中的额外设置。
- **`Modules.xml`**：定义了项目的模块结构，包括模块的依赖关系和配置。
- **`News_detect_system.iml`**：是IntelliJ IDEA的项目文件，包含了项目的元数据和配置信息。
- **`Vcs.xml`**：版本控制系统的配置文件，用于管理项目中的版本控制设置。

## 二、`db.py` 代码功能及改进建议

### 2.1 主要代码功能解释
解释了`db.py`代码中一些主要代码的作用。

### 2.2 改进措施
该段代码存在一些不足之处：
- 函数缺乏单一性和复用性。
- 未处理数据库连接失败或查询错误的情况，可能导致程序崩溃或返回不友好的错误信息。

**改进措施**：
- 为代码添加了错误管理功能，包括异常处理机制。
- 捕获可能发生的错误并进行适当处理（如记录日志、返回默认值或重新连接）。
- 使得程序能够及时捕获运行过程中出现的各种异常（如数据库连接错误、网络请求超时、文件读写错误等），并根据不同异常类型采取相应措施，避免程序因异常而崩溃。

## 三、`Main.py` 代码功能及扩展建议

### 3.1 主要代码功能解释
解释了`Main.py`代码中一些主要代码的作用。

### 3.2 功能扩展建议
目前代码只能启动一个页面模块。建议扩展其功能以支持同时启动多个页面模块：
- 充分利用计算机的多核处理器资源。
- 实现不同新闻检测任务的并行处理。
- 提高新闻检测系统的整体效率和性能。

## 四、项目功能总结

这个项目是一个假新闻检测系统，它通过机器学习模型和数据集来评估新闻的真实性。主要功能包括：

- **多模型选择**：用户可以选择不同的模型和数据集来检测新闻的真实性。
- **技术指标展示**：系统可以展示模型的性能指标，如精度、查准率、召回率、F-measure和单样本响应时间。
- **单样本测试**：用户可以上传图片和输入新闻文本，系统会根据选择的模型和数据集给出检测结果。
- **Web界面交互**：使用Gradio库创建了一个交互式的Web界面，方便用户操作。 <!-- by 刘巧来 -->








# news_detect_system <!-- by 黄明娟 -->

## 一：项目介绍

这个项目是一个假新闻检测系统，它通过机器学习模型和数据集来评估新闻的真实性。主要功能包括：

- **多模型选择**：用户可以选择不同的模型和数据集来检测新闻的真实性。
- **技术指标展示**：系统可以展示模型的性能指标，如精度、查准率、召回率、F-measure和单样本响应时间。
- **单样本测试**：用户可以上传图片和输入新闻文本，系统会根据选择的模型和数据集给出检测结果。
- **Web界面交互**：使用Gradio库创建了一个交互式的Web界面，方便用户操作。

有两种检测模式：
- **批量新闻检测模式** (`news_detect.py`) - 处理大量新闻数据
- **单条新闻检测模式** (`single_news_detect.py`) - 针对单条新闻进行分析

## 二：`news_detect.py`

### 1. 功能概述

用于实现基于数据集的假新闻批量检测功能。利用 Gradio 创建了一个用户界面，包含模型选择下拉框、数据集选择下拉框、技术指标复选框。用户选择参数后点击 “提交” 按钮，调用 `mode_run` 函数，该函数获取用户选择的模型和数据集，再调用 `process` 函数，最终调用 `check_box_change` 函数生成并展示检测的技术指标结果。

### 2. 导入模块

- **`gradio`**：一个Python库，用于快速创建交互式的Web界面。它允许用户通过简单的代码创建出具有输入输出功能的Web应用。

### 3. 核心功能函数

1. **`process(mode_name, data_name, check_box)`**
   - 调用 `check_box_change` 函数，根据用户选择的技术指标生成相应的HTML表格。
   - 处理检测请求的入口函数，接收模型名称、数据集名称和勾选的指标参数。

2. **`mode_run(mode_name, data_name, check_box)`**
   - 获取用户选择的模型和数据集，并调用 `process` 函数来处理这些输入。
   - 运行检测模式的主函数，获取模型和数据集详细信息，调用 `process` 处理并返回结果。

3. **`single_mode_run(data_set_dir)`**
   - 单样本检测函数（当前为占位实现），实际应用中应实现具体检测逻辑，目前固定返回 "real"（真实新闻）。

### 4. 辅助函数

1. **`get_mode(mode_name)`**
   - 获取模型详细信息。

2. **`get_dataset(data_name)`**
   - 获取数据集详细信息。

3. **`get_models()`**
   - 从数据库获取可用模型列表，返回模型名称列表。

4. **`get_datasets()`**
   - 从数据库获取可用数据集列表，返回数据集名称列表。

5. **`check_box_change(inputs)`**
   - 根据用户选择的指标生成结果展示，当前返回固定格式的Markdown表格，包含样本处理统计和性能指标。

### 5. 主界面函数 `news_detect(port)`

- **作用**：创建一个Gradio Web界面，用户可以通过这个界面选择模型、数据集和技术指标，并提交请求以获取模型的性能指标。
- **参数**：
  - `port`：服务运行的端口号。
- **Web界面布局**：
  - **HTML标题**：显示“假新闻检测系统”。
  - **模型选择**：一个下拉菜单，用户可以选择不同的模型。
  - **数据集选择**：一个下拉菜单，用户可以选择不同的数据集。
  - **技术指标选择**：一个复选框组，用户可以选择要展示的技术指标。
  - **提交按钮**：用户点击后，调用 `mode_run` 函数处理输入并展示结果。
  - **清空按钮**：清空当前的输出结果。
- **启动服务**：使用 `demo.launch` 方法启动Gradio服务，设置共享选项、服务器名称和端口号。

### 6. 当前实现特点

- **模拟数据**：目前结果展示是固定的模拟数据，实际检测逻辑待实现。
- **数据库集成**：模型和数据集信息从数据库获取。
- **响应式设计**：界面会根据用户选择动态显示结果。
- **多指标支持**：可选择显示不同维度的检测指标。

### 7. 待完善部分

- 实际的新闻检测算法实现。
- 模型和数据集的详细配置信息。
- 检测结果的动态计算。
- 更丰富的可视化展示。
- 用户交互体验优化。

<!-- by 黄明娟 -->